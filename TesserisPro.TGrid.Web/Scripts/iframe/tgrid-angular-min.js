//!=====================================================================================
//!
//! The Tesseris Free License
//!
//! Copyright(c) 2014 Tesseris Pro LLC
//!
//! Permission is hereby granted, free of charge, to any person obtaining a copy of this 
//! software and associated documentation files(the "Software"), to deal in the Software 
//! without restriction, including without limitation the rights to use, copy, modify,
//! merge, publish, distribute, sublicense, and / or sell copies of the Software, and to 
//! permit persons to whom the Software is furnished to do so, subject to the following
//! conditions:
//!
//! 1. The above copyright notice and this permission notice shall be included in all 
//!    copies or substantial portions of the Software.
//!
//! 2. Any software that fully or partially contains or uses materials covered by 
//!    this license shall notify users about this notice and above copyright.The 
//!    notification can be made in "About box" and / or site main web - page footer.The 
//!    notification shall contain name of Tesseris Pro company and name of the Software 
//!    covered by current license.
//!
//! THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, 
//! INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A 
//! PARTICULAR PURPOSE AND NONINFRINGEMENT.IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT 
//! HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION 
//! OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE 
//! SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
//!
//!=====================================================================================
var __extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},TGrid,TesserisPro;(function(n){(function(t){var i=function(i){function r(){i.apply(this,arguments)}return __extends(r,i),r.prototype.getElementsSize=function(n,t){var e=0,u=n.children,r,i,f;for(containsClass(n,"mobile")&&(u=n.children[0].children),r=0;r<u.length;r++)i=u.item(r),containsClass(i,"ng-hide")||(f=angular.element(i).scope()!=undefined?angular.element(i).scope().item.originalModel:null,isNotNoU(f)&&(t==null||t.indexOf(f)>=0)&&(e+=i.offsetHeight));return e},r.prototype.getFirstVisibleItem=function(n,t,i){var o=0,e=n.children,u,s,r,f;for(containsClass(n,"mobile")&&(e=n.children[0].children),u=0,s=0;u<e.length;u++)if(r=e.item(u),!containsClass(r,"ng-hide")&&(f=angular.element(r).scope()!=undefined?angular.element(r).scope().item.originalModel:null,isNotNoU(f)&&t.indexOf(f)>=0&&(o+=r.offsetHeight,o>i)))return f;return null},r.prototype.getVisibleItemsCount=function(n,t,i,r){var h=0,c=0,e=n.children,o,f,u,s;for(containsClass(n,"mobile")&&(e=n.children[0].children),o=0,f=0;f<e.length;f++)if(u=e.item(f),containsClass(u,"ng-hide")||(s=angular.element(u).scope()!=undefined?angular.element(u).scope().item.originalModel:null,isNotNoU(s)&&i.indexOf(s)>=0&&(h+=u.offsetHeight,h>r&&(c++,o+=u.offsetHeight))),o>=t.clientHeight)break;return c},r.prototype.getTableElement=function(){var n=document.createElement("table");return n.className="tgrid-table",n},r.prototype.getFooterViewModel=function(n){var i=new t.AngularFooterViewModel(n);return i.angularModuleName="tgrid-footer-module"+r.moduleFooterCounter++,angular.module(i.angularModuleName,[]).controller("tgrid-footer-controller",["$scope",function(n){i.setScope(n)}]),i},r.prototype.getFilterPopupViewModel=function(n){var i=new t.AngularFilterPopupViewModel(n,this.onCloseFilterPopup),r;return i.angularModuleName="tgrid-filter-popup-module",r=angular.module(i.angularModuleName,[]).controller("tgrid-filter-popup-controller",["$scope",function(n){i.setScope(n)}]),i},r.prototype.updateTableHeadElement=function(i,r,u,f,e){var w,h,y,o,s,a,c,l,b,v,p;if(i.columns.length<=0&&(w=n.TGrid.Grid.getGridObject(r),w.setColumnsFromItemsProvider()),this.updateGroupByPanel(i,u),h=document.createElement("tr"),this.appendIndent(h,i.columns.length,!0),this.showNeededIndents(h,i.groupBySortDescriptors.length,t.Grid.getGridObject(r)),y=!1,i.columns.length>0)for(o=0;o<i.columns.length;o++)i.columns[o].device.indexOf("desktop")!=-1&&(s=document.createElement("th"),s.className="tgrid-header-cell",s.draggable=!1,a=document.createElement("div"),a.className="tgrid-header-cell-container",c=document.createElement("div"),l=document.createElement("div"),c.className="tgrid-header-cell-content",c.style.overflow="hidden",l.className="tgrid-header-cell-buttons",a.appendChild(c),a.appendChild(l),s.appendChild(a),i.columns[o].notSized?(i.columns[o].resizable=!1,y=!0):s.style.width=i.columns[o].width.toString()+"px",i.columns[o].header!=null?i.columns[o].header.applyTemplate(c):(b=i.columns[o].member!=null?i.columns[o].member:"",this.buildDefaultHeader(c,b)),i.enableSorting&&i.columns[o].enableSorting&&(function(n){s.onclick=function(r){return t.Grid.getGridObject(r.target).sortBy(i.columns[n].sortMemberPath)}}(o),i.sortDescriptor.path==i.columns[o].sortMemberPath&&i.columns[o].sortMemberPath!=null&&this.addArrows(l,i,o)),i.enableFiltering&&i.columns[o].enableFiltering&&this.addFilterButton(i,r,f,l,o),i.columns[o].resizable&&(v=document.createElement("div"),v.className="tgrid-header-column-resize",v.onclick=function(n){return n.stopImmediatePropagation()},function(n,t,r){var f=null,u=0;r.onmousedown=function(t){t.stopImmediatePropagation();u=t.screenX;f=document.onmousemove;document.onmousemove=function(t){u!=0&&(i.columns[n].width=(parseInt(i.columns[n].width)+t.screenX-u).toString(),u=t.screenX,e(i.columns[n]))}};document.onmouseup=function(){document.onmousemove=f;u=0}}(o,s,v),l.appendChild(v)),y&&(r.parentElement.style.tableLayout="fixed"),h.appendChild(s));p=document.createElement("th");addClass(p,"tgrid-placeholder");y&&addClass(p,"tgrid-placeholder-width");h.appendChild(p);r.innerHTML="";r.appendChild(h)},r.prototype.updateTableBodyElement=function(t,i,r,u){var l=angular.module("TGridTbody",[]),h,o,f,e,s,c;return this.angularItemsViewModel=new n.TGrid.AngularItemsViewModel(r,t,u),h=this.angularItemsViewModel,l.controller("TableCtrl",["$scope",function(n){h.setScope(n)}]).directive("ngShowInFocus",function(){return{replace:!0,restrict:"A",link:function(n,t,i){n.$watch(i.ngShowInFocus,function(n){n?(t.css("display","block"),t.focus()):t.css("display","none")})}}}),o=i.parentElement,o.innerHTML="",i=o,f=document.createElement("tbody"),f.style.border="none",f.setAttribute("ng-controller","TableCtrl"),e=this.appendTableElement(t,i,r,0,u),e.setAttribute("ng-repeat-start","item in items"),e.setAttribute("ng-class","{'tgrid-table-body-row' : !item.isGroupHeader, 'tgrid-table-group-header':  item.isGroupHeader,'tgrid-table-body-row selected': !item.isGroupHeader && item.isSelected }"),s="",s=isNull(t.rowClick)?"item.select($event, item, $parent.items)":"item.model.".concat(t.rowClick).concat("(item.item ,$event);"),e.setAttribute("ng-click",s),c=this.buildDetailsRow(t),f.appendChild(e),f.appendChild(c),angular.bootstrap(f,["TGridTbody"]),i.appendChild(f),addClass(i,"desktop"),f},r.prototype.appendTableElement=function(n,t,i,r,u){var f=document.createElement("tr");return i.length>0&&(n.enableGrouping&&i[0].isGroupHeader&&this.buildGroupHeaderRow(n,i[0].item,f),this.buildRowElement(n,i[0],t,u,f)),f},r.prototype.buildRowElement=function(n,t,i,r,u){var h,f,o,e,s;for(this.appendIndentRow(u,n.columns.length),h=!1,f=0;f<n.columns.length;f++)n.columns[f].device.indexOf("desktop")!=-1&&(n.columns[f].notSized&&(h=!0),o=document.createElement("td"),o.setAttribute("ng-hide","item.isGroupHeader"),o.className="tgrid-table-data-cell",e=document.createElement("div"),e.className="tgrid-cell-content",e.style.overflow="hidden",o.appendChild(e),n.columns[f].cell!=null?n.columns[f].cell.applyTemplate(e):n.columns[f].member!=null&&this.createDefaultCell(e,n.columns[f].member),u.appendChild(o));h&&(i.style.tableLayout="fixed",i.parentElement.style.overflowY="scroll");u.dataContext=t.item;h||(s=document.createElement("td"),addClass(s,"tgrid-placeholder"),addClass(s,"tgrid-table-data-cell"),s.setAttribute("ng-hide","item.isGroupHeader"),u.appendChild(s))},r.prototype.buildGroupHeaderRow=function(n,t,i){this.appendIndentGroupHeader(i,n.columns.length);var r=document.createElement("td");r.setAttribute("colspan","{{item.colspan}}");addClass(r,"tgrid-table-group-header");r.setAttribute("ng-hide","!item.isGroupHeader");n.groupHeaderTemplate!=null?n.groupHeaderTemplate.applyTemplate(r):r=this.createDefaultGroupHeader(r);n.enableCollapsing&&(addClass(r,"collapsing"),r.setAttribute("ng-click","item.toggleGroupCollapsing($event, item); $event.stopPropagation();"));i.appendChild(r)},r.prototype.buildDetailsRow=function(n){var i=document.createElement("tr"),u,r,t;for(i.setAttribute("ng-repeat-end",""),i.setAttribute("ng-hide","!item.showDetail"),u=!1,isNotNull(n.detailsTemplateHtml)&&(t=document.createElement("td"),this.appendIndentRow(i,n.groupBySortDescriptors.length),u=!0,addClass(i,"tgrid-details"),t.setAttribute("colspan","{{item.detailsColspan}}"),t.setAttribute("ng-hide","$parent.options.showDetailFor.item != item.item || $parent.options.showDetailFor.column != -1"),n.detailsTemplateHtml.applyTemplate(t),i.appendChild(t)),r=0;r<n.columns.length;r++)isNotNull(n.columns[r].cellDetail)&&(t=document.createElement("td"),u||(this.appendIndentRow(i,n.groupBySortDescriptors.length),u=!0),addClass(i,"tgrid-details"),t.setAttribute("colspan","{{item.detailsColspan}}"),t.setAttribute("ng-hide","$parent.options.showDetailFor.item != item.item || $parent.options.showDetailFor.column !=".concat(r.toString())),n.columns[r].cellDetail.applyTemplate(t),i.appendChild(t));return i},r.prototype.updateTableDetailRow=function(n,t,i,r){this.angularItemsViewModel.setItemSelection(i,n.isSelected(i),r)},r.prototype.updateTableFooterElement=function(n,t,i,r){if(n.tableFooterTemplate==null&&n.enablePaging)this.buildDefaultTableFooterElement(n,t,i);else if(n.tableFooterTemplate!=null)if(t.hasChildNodes())r.apply();else{var u=document.createElement("div");u.className="tgrid-footer-container";u.setAttribute("ng-controller","tgrid-footer-controller");n.tableFooterTemplate.applyTemplate(u);angular.bootstrap(u,[r.angularModuleName]);t.appendChild(u)}else t.innerHTML=""},r.prototype.updateFilteringPopUp=function(n,t,i){var r;n.filterPopup==null?(r=document.createElement("div"),r.className="tgrid-filter-popup-container",r.setAttribute("ng-controller","tgrid-filter-popup-controller"),this.buildDefaultFilteringPopUp(n,r),angular.bootstrap(r,[i.angularModuleName]),t.appendChild(r)):(r=document.createElement("div"),r.className="tgrid-filter-popup-container",r.setAttribute("ng-controller","tgrid-filter-popup-controller"),n.filterPopup.applyTemplate(r),t.innerHTML="",angular.bootstrap(r,[i.angularModuleName]),t.appendChild(r))},r.prototype.addArrows=function(n,t){var i,r;return t.sortDescriptor.asc&&(i=document.createElement("div"),addClass(i,"tgrid-arrow-up"),n.appendChild(i)),t.sortDescriptor.asc||(r=document.createElement("div"),addClass(r,"tgrid-arrow-down"),n.appendChild(r)),n},r.prototype.removeArrows=function(n){for(var i=n.getElementsByClassName("tgrid-arrow-up"),t=0;t<i.length;t++)i[t].parentNode.removeChild(i[t]),t--;for(i=n.getElementsByClassName("tgrid-arrow-down"),t=0;t<i.length;t++)i[t].parentNode.removeChild(i[t]),t--},r.prototype.removeFilterButtons=function(n){for(var i=n.getElementsByClassName("tgrid-filter-button"),t=0;t<i.length;t++)i[t].parentNode.removeChild(i[t]),t--;for(i=n.getElementsByClassName("tgrid-filter-button-active"),t=0;t<i.length;t++)i[t].parentNode.removeChild(i[t]),t--},r.prototype.updateMobileItemsList=function(t,i,r,u){var c=angular.module("TGridTbody",[]),s,f,e,o,h;this.angularMobileItemsViewModel=new n.TGrid.AngularItemsViewModel(r,t,u);s=this.angularMobileItemsViewModel;c.controller("TableCtrl",["$scope",function(n){s.setScope(n)}]).directive("ngShowInFocus",function(){return{replace:!0,restrict:"A",link:function(n,t,i){n.$watch(i.ngShowInFocus,function(n){n?(t.css("display","block"),t.focus()):t.css("display","none")})}}});f=document.createElement("div");e=document.createElement("div");f.setAttribute("ng-controller","TableCtrl");e=this.appendMobileTableElement(t,i,r,0,u);e.setAttribute("ng-repeat-start","item in items");e.setAttribute("ng-class","{'tgrid-mobile-row' : !item.isGroupHeader, 'tgrid-mobile-group-header':  item.isGroupHeader,'tgrid-mobile-row selected': !item.isGroupHeader && item.isSelected }");o="item.select($event, item, $parent.items)";isNotNull(t.rowClick)&&(o="item.model.".concat(t.rowClick).concat("(item.item ,$event);"));e.setAttribute("ng-click","!item.isGroupHeader ? ".concat(o).concat(" : item.toggleGroupCollapsing($event, item)"));f.appendChild(e);h=this.buildMobileDetailsRow(t);f.appendChild(h);angular.bootstrap(f,["TGridTbody"]);i.appendChild(f);addClass(i,"mobile");t.showDetailFor.column=-1},r.prototype.appendMobileTableElement=function(n,t,i,r,u){var f=document.createElement("div");return i.length>0&&(n.enableGrouping&&i[0].isGroupHeader&&this.buildMobileGroupHeaderRow(n,i[0].item,f),this.buildMobileRowElement(n,i[0].item,t,u,f)),f},r.prototype.updateMobileDetailRow=function(n,t,i,r){this.angularMobileItemsViewModel.setItemSelection(i,n.isSelected(i),r)},r.prototype.buildMobileGroupHeaderRow=function(n,t,i){this.appendIndentMobileGroupHeader(i,n.columns.length);var r=document.createElement("div");r.setAttribute("ng-hide","!item.isGroupHeader");n.groupHeaderTemplate!=null?n.groupHeaderTemplate.applyTemplate(r):this.createDefaultGroupHeader(r);addClass(r,"tgrid-mobile-group-header-container");n.enableCollapsing&&addClass(i,"collapsing");i.appendChild(r)},r.prototype.appendIndentMobileGroupHeader=function(n,t){for(var r,i=0;i<t;i++)r=document.createElement("div"),r.className="tgrid-mobile-group-indent-div",r.setAttribute("ng-hide","!item.isGroupHeader || ".concat(i.toString()).concat(" >= item.item.level")),n.appendChild(r)},r.prototype.buildMobileRowElement=function(n,t,i,r,u){this.appendIndentMobileRow(u,n.groupBySortDescriptors.length);var f=document.createElement("div");f.setAttribute("ng-hide","item.isGroupHeader");f.className="tgrid-mobile-div";n.mobileTemplateHtml!=null?n.mobileTemplateHtml.applyTemplate(f):f=this.createDefaultMobileTemplate(f,n);u.appendChild(f);u.dataContext=t.item},r.prototype.appendIndentMobileRow=function(n,t){for(var r,i=0;i<t;i++)r=document.createElement("div"),r.className="tgrid-mobile-row-indent-div",r.setAttribute("ng-hide","item.isGroupHeader || ".concat(i.toString()).concat(" >= item.item.level")),n.appendChild(r)},r.prototype.buildMobileDetailsRow=function(n){var t=document.createElement("div"),r,u,i,f;for(t.setAttribute("ng-repeat-end",""),t.setAttribute("ng-hide","!item.showDetail"),addClass(t,"tgrid-mobile-details"),r=!1,isNotNull(n.detailsTemplateHtml)&&(u=document.createElement("div"),this.appendIndentMobileRow(t,n.groupBySortDescriptors.length),r=!0,u.setAttribute("ng-hide","$parent.options.showDetailFor.item != item.item || $parent.options.showDetailFor.column != -1"),n.detailsTemplateHtml.applyTemplate(u),t.appendChild(u)),i=0;i<n.columns.length;i++)isNotNull(n.columns[i].cellDetail)&&(f=document.createElement("div"),r||(this.appendIndentMobileRow(t,n.groupBySortDescriptors.length),r=!0),addClass(t,"tgrid-details"),f.setAttribute("ng-hide","$parent.options.showDetailFor.item != item.item || $parent.options.showDetailFor.column !=".concat(i.toString())),n.columns[i].cellDetail.applyTemplate(f),t.appendChild(f));return t},r.prototype.createDefaultGroupHeader=function(n){var t=document.createElement("div"),i=document.createElement("span");return i.innerHTML="{{item.item.value}}",t.appendChild(i),n.appendChild(t),n},r.prototype.createDefaultCell=function(n,t){var i=document.createElement("span"),r="{{item.item.".concat(t).concat("}}");i.innerHTML=r;n.appendChild(i)},r.prototype.createDefaultMobileTemplate=function(n,t){for(var u,f,r,e,i=0;i<t.columns.length;i++)t.columns[i].device.indexOf("mobile")!=-1&&(u=document.createElement("div"),f=document.createElement("span"),f.innerHTML=t.columns[i].member!=null?t.columns[i].member:t.columns[i].sortMemberPath!=null?t.columns[i].sortMemberPath:t.columns[i].groupMemberPath!=null?t.columns[i].groupMemberPath:"",r=document.createElement("span"),t.columns[i].member!=null?(e=document.createElement("span"),r.innerHTML=": {{item.item."+t.columns[i].member+"}}",r.appendChild(e)):r.innerHTML=": ",u.appendChild(f),u.appendChild(r),n.appendChild(u));return n},r.prototype.buildDefaultFilteringPopUp=function(n,i){var s=document.createElement("div"),h=document.createElement("span"),f,r,u,e,o;h.innerHTML="{{path}}";s.appendChild(h);i.appendChild(s);f=document.createElement("select");r=document.createElement("option");r.value=0..toString();r.text="None";f.appendChild(r);r=document.createElement("option");r.value=1..toString();r.text="Equals";f.appendChild(r);r=document.createElement("option");r.value=2..toString();r.text="Not equals";f.appendChild(r);i.appendChild(f);f.selectedIndex=1;u=document.createElement("input");u.type="text";u.className="tgrid-filter-input-text";u.setAttribute("value","");u.style.width="150px";i.appendChild(u);i.innerHTML+="<br>";e=document.createElement("div");e.className="tgrid-filter-popup-button";e.style.width="70px";e.onclick=function(n){var i=t.Grid.getGridObject(n.target);i.filterPopupViewModel.onApply()};e.innerHTML="OK";i.appendChild(e);o=document.createElement("div");o.className="tgrid-filter-popup-button";o.style.width="70px";o.onclick=function(n){var i=t.Grid.getGridObject(n.target);i.filterPopupViewModel.onClose();u.setAttribute("value","")};o.innerHTML="Cancel";i.appendChild(o)},r.prototype.appendIndentRow=function(n,t){for(var i,u,r=0;r<t;r++)i=document.createElement("td"),i.className="tgrid-table-indent-cell",i.setAttribute("ng-hide","item.isGroupHeader || $parent.options.groupBySortDescriptors.length <=".concat(r.toString())),u=document.createElement("div"),u.className="tgrid-table-indent-cell-content",i.appendChild(u),n.appendChild(i)},r.prototype.appendIndentGroupHeader=function(n,t){for(var i,u,r=0;r<t;r++)i=document.createElement("td"),i.className="tgrid-table-indent-cell",i.setAttribute("ng-hide","!item.isGroupHeader || item.item.level <= ".concat(r.toString())),u=document.createElement("div"),u.className="tgrid-table-indent-cell-content",i.appendChild(u),n.appendChild(i)},r.moduleFooterCounter=0,r}(t.BaseHtmlProvider);t.AngularHtmlProvider=i})(n.TGrid||(n.TGrid={}));var t=n.TGrid})(TesserisPro||(TesserisPro={})),function(n){(function(n){function t(){var n={};return n.restrict="E",n.link=function(n,t,i){var r=new TesserisPro.TGrid.Options(t[0],1),u,o,s,h,f,e,l,c;if(r.parentViewModel=n,i.groupby!=undefined&&(u=i.groupby.split(" "),u.length>0&&u[0]!=""))for(o=0;o<u.length;o++)r.groupBySortDescriptors.push(new TesserisPro.TGrid.SortDescriptor(u[o],!0));r.enablePaging=i.enablepaging==undefined?!1:i.enablepaging=="true"?!0:!1;s=i.pagesize;s!=undefined&&(r.pageSize=parseInt(s),this.isEnablePaging&&(r.pageSize=isNaN(this.pageSize)||this.pageSize<1?10:this.pageSize));h=i.pageslide;h!=undefined&&(r.pageSlide=parseInt(h),this.isEnablePaging&&(r.pageSlide=isNaN(this.pageSlide)||this.pageSlide<1?1:this.pageSlide));f=i.selectionmode;f=="multi"&&(r.selectionMode=2);(f==undefined||f=="single")&&(r.selectionMode=1);f=="none"&&(r.selectionMode=0);r.enableVirtualScroll=i.enablevirtualscroll==undefined?!1:i.enablevirtualscroll=="true"?!0:!1;r.enableCollapsing=i.enablecollapsing==undefined?!1:i.enablecollapsing=="true"?!0:!1;r.enableSorting=i.enablesorting==undefined?!1:i.enablesorting=="true"?!0:!1;r.enableGrouping=i.enablegrouping==undefined?!1:i.enablegrouping=="true"?!0:!1;r.openDetailsOnSelection=i.showdetailsonselection==undefined?!1:i.showdetailsonselection=="true"?!0:!1;r.enableFiltering=i.enablefiltering==undefined?!1:i.enablefiltering=="true"?!0:!1;r.rowClick=i.rowclick==undefined||i.rowclick==null?null:i.rowclick;r.captureScroll=i.capturescroll==undefined?!0:i.capturescroll=="false"?!1:!0;e=i.ready;e!=undefined&&typeof n[e]=="function"&&(r.ready=n[e]);l=new TesserisPro.TGrid.Grid(t[0],r,n[i.provider]);i.options!=undefined&&(r.apply=function(){l.afterOptionsChange()},n[i.options]=r);c=i.bindingready;e!=undefined&&typeof n[c]=="function"&&n[c](r)},n}function i(){}n.Directive=t;n.registerTGrid=i})(n.Angular||(n.Angular={}));var t=n.Angular}(TGrid||(TGrid={})),function(n){(function(n){var t=function(){function n(n){this.totalCount=0;this.selectedItem=null;this.currentPage=1;this.totalPages=1;this.grid=n}return n.prototype.setScope=function(n){var t=this;this.$scope=n;this.$scope.totalCount=this.totalCount;this.$scope.selectedItem=this.selectedItem;this.$scope.currentPage=this.currentPage;this.$scope.totalPages=this.totalPages;this.$scope.grid=this.grid;this.$scope.changePage=function(n){return t.changePage(n)};this.$scope.goToPreviousPagesBlock=function(){return t.goToPreviousPagesBlock()};this.$scope.goToNextPagesBlock=function(){return t.goToNextPagesBlock()};this.$scope.goToFirstPage=function(){return t.goToFirstPage()};this.$scope.goToLastPage=function(){return t.goToLastPage()}},n.prototype.setTotalCount=function(n){var t=this,i;this.totalCount=Math.floor(n);this.$scope!=null&&(this.$scope.totalCount=Math.floor(n),i=this,setTimeout(function(){return t.$scope.$apply()},1))},n.prototype.setSelectedItem=function(n){var t=this;this.selectedItem=n;this.$scope!=null&&(this.$scope.selectedItem=n,setTimeout(function(){return t.$scope.$apply()},1))},n.prototype.setCurrentPage=function(n){var t=this,i;this.currentPage=Math.floor(n);this.$scope!=null&&(this.$scope.currentPage=Math.floor(n),i=this,setTimeout(function(){return t.$scope.$apply()},1))},n.prototype.setTotalPages=function(n){var t=this,i;this.totalPages=Math.floor(n);this.$scope!=null&&(this.$scope.totalPages=Math.floor(n),i=this,setTimeout(function(){return t.$scope.$apply()},1))},n.prototype.changePage=function(n){var t=parseInt(n);if(!isNaN(t)){if(this.$scope.totalPages!=undefined&&this.$scope.totalPages!=null&&this.$scope.totalPages<n){this.grid.selectPage(this.$scope.totalPages-1);return}t<1?this.grid.selectPage(0):this.grid.selectPage(t-1)}},n.prototype.apply=function(){var n=this;setTimeout(function(){return n.$scope.$apply()},1)},n.prototype.goToPreviousPagesBlock=function(){var n=this.$scope.currentPage-this.grid.options.pageSlide-1;n>0&&n!=null&&n!=undefined?this.grid.selectPage(n):this.grid.selectPage(0)},n.prototype.goToNextPagesBlock=function(){var n=this.$scope.currentPage+this.grid.options.pageSlide-1;n<this.$scope.totalPages&&n!=null&&n!=undefined?this.grid.selectPage(n):this.grid.selectPage(this.$scope.totalPages-1)},n.prototype.goToFirstPage=function(){this.grid.selectPage(0)},n.prototype.goToLastPage=function(){this.grid.selectPage(this.$scope.totalPages-1)},n}();n.AngularFooterViewModel=t})(n.TGrid||(n.TGrid={}));var t=n.TGrid}(TesserisPro||(TesserisPro={})),function(n){(function(n){var t=function(){function t(n,t){this.container=n;this.onCloseFilterPopup=t}return t.prototype.setScope=function(n){var t=this;this.$scope=n;this.$scope.path=this.path;this.$scope.onApply=function(){return t.onApply()};this.$scope.onClear=function(){return t.onClear()};this.$scope.onClose=function(){return t.onClose()}},t.prototype.onCloseFilterPopup=function(){},t.prototype.onApply=function(){this.condition=this.container.getElementsByTagName("select")[0].selectedIndex;var t=n.Grid.getGridObject(this.container);t.options.filterDescriptor.removeChildByPath(this.$scope.path);this.condition!=0&&(this.value=this.container.getElementsByTagName("input")[0].value,t.options.filterDescriptor.addChild(new n.FilterDescriptor(this.$scope.path,this.value,this.condition)));t.applyFilters();hideElement(this.container);this.onCloseFilterPopup()},t.prototype.onClear=function(){var t=n.Grid.getGridObject(this.container);t.options.filterDescriptor.removeChildByPath(this.$scope.path);t.applyFilters();hideElement(this.container);this.onCloseFilterPopup()},t.prototype.onClose=function(){hideElement(this.container);this.onCloseFilterPopup()},t.prototype.onOpen=function(n,t){this.columnInfo=t;this.$scope.path=t.filterMemberPath;for(var i=0;i<n.filterDescriptor.children.length;i++)if(n.filterDescriptor.children[i].path==t.filterMemberPath){this.container.getElementsByTagName("input")[0].value=n.filterDescriptor.children[i].value;this.container.getElementsByTagName("select")[0].selectedIndex=n.filterDescriptor.children[i].condition;this.$scope.$apply();return}this.container.getElementsByTagName("input")[0].value="";this.container.getElementsByTagName("select")[0].selectedIndex=0;this.$scope.$apply()},t.prototype.getColumnInfo=function(){return this.columnInfo},t}();n.AngularFilterPopupViewModel=t})(n.TGrid||(n.TGrid={}));var t=n.TGrid}(TesserisPro||(TesserisPro={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(n){var t=function(n){function t(t,i,r,u){n.call(this,t,i,r,u)}return __extends(t,n),t}(n.ItemViewModel);n.AngularItemViewModel=t})(n.TGrid||(n.TGrid={}));var t=n.TGrid}(TesserisPro||(TesserisPro={})),function(n){(function(n){var t=function(){function t(n,t,i){this.itemsModels=n;this.options=t;this.selected=i}return t.prototype.setScope=function(t){var r=this,i;for(this.$scope=t,this.$scope.options=this.options,this.$scope.items=[],i=0;i<this.itemsModels.length;i++)this.$scope.items[i]=new n.AngularItemViewModel(this.itemsModels[i].model,this.itemsModels[i].item,this.itemsModels[i].grid,this.itemsModels[i].isGroupHeader),this.$scope.items[i].originalModel=this.itemsModels[i],this.$scope.items[i].colspan=this.options.columns.length+1+this.options.groupBySortDescriptors.length-this.itemsModels[i].item.level,this.$scope.items[i].detailsColspan=this.options.hasAnyNotSizedColumn?this.options.columns.length:this.options.columns.length+1,this.$scope.items[i].isSelected=this.options.isSelected(this.itemsModels[i].item),this.$scope.items[i].showDetail=!1,this.$scope.items[i].showDetailsFor=new n.ShowDetail,this.$scope.options.showDetailFor.item==this.$scope.items[i].item&&(this.$scope.items[i].showDetail=!0),this.$scope.items[i].toggleGroupCollapsing=function(n,t){t.item.collapse?(t.grid.removeCollapsedFilters(t.item.filterDescriptor),t.item.collapse=!1):(t.grid.setCollapsedFilters(t.item.filterDescriptor),t.item.collapse=!0)},this.$scope.items[i].toggleDetailForCell=function(n,t){t.toggleDetailsForCell(n)},this.$scope.items[i].openDetailForCell=function(n,t){t.openDetailsForCell(n)},this.$scope.items[i].closeDetailForCell=function(n,t){t.closeDetailsForCell(n)},this.$scope.items[i].select=function(n,t){r.selected(t,n.ctrlKey)}},t.prototype.setItemSelection=function(n,t,i){for(var u=this,r=0;r<this.itemsModels.length;r++)this.$scope.items[r].showDetail=!1,this.itemsModels[r].item==n&&(this.$scope.items[r].isSelected=t,i&&(this.$scope.items[r].showDetail=!0),this.$scope.options.showDetailFor=this.options.showDetailFor,setTimeout(function(){u.$scope.$apply()},10))},t}();n.AngularItemsViewModel=t})(n.TGrid||(n.TGrid={}));var t=n.TGrid}(TesserisPro||(TesserisPro={})),function(){"use strict";angular.module("TGrid",[]).directive("tGrid",TGrid.Angular.Directive)}()